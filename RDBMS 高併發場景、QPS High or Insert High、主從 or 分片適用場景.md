# RDBMS 高併發場景、QPS High or Insert High、主從 or 分片適用場景

### 查詢延遲時間高，CPU負載高：

複雜的關聯查詢或查詢邏輯負載大，優化複合索引增加覆蓋，縮小命中返回的範圍

### 每秒查詢數(QPS)高，連接數高，記憶體使用率高：

主從模式做負載平衡，增加多節點（從節點），提高連接數

### 寫入表頁面數高、磁碟寫入數高：

資料分片分散寫入壓力

### 總結

主要就是透過 cloud service 的監控服務或監控工具，去監控一些關鍵指標 CPU 負載、記憶體負載、連接數、每秒查詢數、查詢延遲數等等

舉例來說查詢延遲時間高，CPU偏高，但每秒查詢數低、連接數低可能是邏輯偏重或索引沒命中或請求太多資料，可能就要優化索引去增加覆蓋，縮小命中返回的筆數範圍，縮小返回的資料量

記憶體使用率高、連接數高、每秒查詢數高，較偏向是 RPS 高併發的問題，就需要考慮朝主從模式去做負載平衡

幾個寫入指標 寫入表引擎頁面數、磁碟寫入數 來觀察寫入壓力，來考慮分片的邏輯
